<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agoni Barber - App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #f8f9fa; font-family: 'Helvetica Neue', sans-serif; -webkit-tap-highlight-color: transparent; }
        .app-header { background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1512690196222-7c7d9765343f?q=80&w=2070'); background-size: cover; background-position: center; height: 160px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; text-align: center; }
        .main-card { background: white; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); transition: 0.2s; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 25px 15px; border: 1px solid #f0f0f0; }
        .main-card:active { transform: scale(0.97); background-color: #fdfdfd; }
        
        /* Modal Style si ne Video */
        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; padding: 15px; }
        .modal-overlay.active { display: flex; }
        .modal-content { background: white; width: 100%; max-width: 400px; border-radius: 15px; position: relative; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .modal-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: white; z-index: 10; }
        
        /* Selektimet */
        .option-item { border: 1px solid #eee; border-radius: 10px; padding: 15px; margin-bottom: 10px; cursor: pointer; transition: 0.2s; }
        .option-item.selected { border: 2px solid #1a2a3a; background: #f0f4f8; }
        .vazhdo-btn { background: #e74c3c; color: white; width: 100%; padding: 15px; border-radius: 8px; font-weight: bold; margin-top: 15px; display: none; }
        .vazhdo-btn.active { display: block; animation: fadeIn 0.3s; }

        /* Orari Style */
        .time-grid { display: grid; grid-template-cols: repeat(3, 1fr); gap: 10px; padding: 15px; }
        .time-box { padding: 12px; border: 1px solid #ddd; border-radius: 8px; text-align: center; font-size: 14px; cursor: pointer; }
        .time-box.busy { background: #ffeded; color: #e74c3c; border-color: #ffcccc; cursor: not-allowed; }
        .time-box.selected { background: #1a2a3a; color: white; border-color: #1a2a3a; }
        
        .gold-bar { background: #f39c12; color: white; text-align: center; padding: 15px; position: fixed; bottom: 0; width: 100%; font-weight: bold; letter-spacing: 1px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="pb-20">

    <div class="app-header">
        <h1 class="text-3xl font-bold uppercase tracking-tighter">AGONI BARBER</h1>
        <p class="text-xs opacity-80 uppercase tracking-widest mt-1">Rezervo termin pa pritje</p>
    </div>

    <div class="p-4 grid grid-cols-2 gap-4 -mt-6">
        <div class="main-card" onclick="openBooking()">
            <i class="fa-regular fa-calendar-check text-3xl mb-3 text-slate-800"></i>
            <span class="font-bold text-sm text-slate-700">Rezervo Termin</span>
        </div>
        <div class="main-card">
            <i class="fa-solid fa-star text-3xl mb-3 text-red-500"></i>
            <span class="font-bold text-sm text-slate-700">Membership</span>
        </div>
        <div class="main-card">
            <i class="fa-solid fa-cart-shopping text-3xl mb-3 text-emerald-500"></i>
            <span class="font-bold text-sm text-slate-700">Produktet</span>
        </div>
    </div>

    <div id="bookingModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="font-bold text-lg" id="modalTitle">Zgjidh Shërbimin</h2>
                <button onclick="closeModal()" class="text-2xl text-gray-400">&times;</button>
            </div>

            <div class="p-5">
                <div id="stepSherbimi" class="step">
                    <div class="option-item" onclick="selectSherbim(this, 'Qethje', '5€', '35 min')">
                        <div class="flex justify-between font-bold"><span>Qethje</span> <span>5€</span></div>
                        <div class="text-xs text-gray-400">35 minuta</div>
                    </div>
                    <div class="option-item" onclick="selectSherbim(this, 'Qethje + Rroje', '6€', '40 min')">
                        <div class="flex justify-between font-bold"><span>Qethje + Rroje</span> <span>6€</span></div>
                        <div class="text-xs text-gray-400">40 minuta</div>
                    </div>
                    <div class="option-item" onclick="selectSherbim(this, 'Styler', '2€', '10 min')">
                        <div class="flex justify-between font-bold"><span>Styler</span> <span>2€</span></div>
                        <div class="text-xs text-gray-400">10 minuta</div>
                    </div>
                    <div class="option-item" onclick="selectSherbim(this, 'Ngjyrosje', '10€', '60 min')">
                        <div class="flex justify-between font-bold"><span>Ngjyrosje</span> <span>10€</span></div>
                        <div class="text-xs text-gray-400">60 minuta</div>
                    </div>
                    <button class="vazhdo-btn" id="btnVazhdo1" onclick="goStep(2)">Vazhdo</button>
                </div>

                <div id="stepBerberi" class="step hidden">
                    <div class="option-item" onclick="selectBerber(this, 'Agon Tahiri')">
                        <div class="font-bold text-center">Agon Tahiri</div>
                    </div>
                    <div class="option-item" onclick="selectBerber(this, 'Leonis Gashi')">
                        <div class="font-bold text-center">Leonis Gashi</div>
                    </div>
                    <div class="option-item" onclick="selectBerber(this, 'Enisi')">
                        <div class="font-bold text-center">Enisi</div>
                    </div>
                    <button class="vazhdo-btn" id="btnVazhdo2" onclick="goStep(3)">Vazhdo</button>
                </div>

                <div id="stepOra" class="step hidden">
                    <div class="flex space-x-2 overflow-x-auto mb-4 pb-2">
                        <div class="bg-slate-800 text-white p-3 rounded-lg text-center min-w-[70px]">
                            <p class="text-[10px] uppercase">Hën</p><p class="font-bold">23</p>
                        </div>
                        <div class="bg-gray-100 p-3 rounded-lg text-center min-w-[70px]">
                            <p class="text-[10px] uppercase">Mar</p><p class="font-bold">24</p>
                        </div>
                        <div class="bg-gray-100 p-3 rounded-lg text-center min-w-[70px]">
                            <p class="text-[10px] uppercase">Mër</p><p class="font-bold">25</p>
                        </div>
                    </div>
                    
                    <div class="time-grid" id="orariContainer">
                        </div>

                    <div class="mt-4 space-y-3">
                        <input type="text" id="clientName" placeholder="Emri juaj" class="w-full border p-3 rounded-lg outline-none focus:ring-1 focus:ring-slate-400">
                        <input type="tel" id="clientPhone" placeholder="Numri i telefonit" class="w-full border p-3 rounded-lg outline-none focus:ring-1 focus:ring-slate-400">
                        <button onclick="confirmAll()" class="w-full bg-emerald-500 text-white font-bold py-4 rounded-lg shadow-lg uppercase text-sm">Konfirmo Terminin</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="gold-bar">★ JU JENI GOLD MEMBER</div>

    <script>
        let bookingData = { service: '', barber: '', time: '' };

        function openBooking() {
            document.getElementById('bookingModal').classList.add('active');
            goStep(1);
        }

        function closeModal() {
            document.getElementById('bookingModal').classList.remove('active');
        }

        function goStep(n) {
            document.querySelectorAll('.step').forEach(s => s.classList.add('hidden'));
            if(n === 1) {
                document.getElementById('stepSherbimi').classList.remove('hidden');
                document.getElementById('modalTitle').innerText = "Zgjidh Shërbimin";
            } else if(n === 2) {
                document.getElementById('stepBerberi').classList.remove('hidden');
                document.getElementById('modalTitle').innerText = "Zgjidh Berberin";
            } else if(n === 3) {
                document.getElementById('stepOra').classList.remove('hidden');
                document.getElementById('modalTitle').innerText = "Zgjidh Datën dhe Orën";
                generateTimes();
            }
        }

        function selectSherbim(el, name, price, time) {
            document.querySelectorAll('#stepSherbimi .option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            bookingData.service = name;
            document.getElementById('btnVazhdo1').classList.add('active');
        }

        function selectBerber(el, name) {
            document.querySelectorAll('#stepBerberi .option-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
            bookingData.barber = name;
            document.getElementById('btnVazhdo2').classList.add('active');
        }

        function generateTimes() {
            const container = document.getElementById('orariContainer');
            container.innerHTML = '';
            // Oraret fiktive per te treguar te zetat (busy)
            const busyTimes = ["10:00", "11:30", "14:00", "16:30"];
            
            for(let h = 9; h <= 18; h++) {
                for(let m of ['00', '30']) {
                    const t = h + ":" + m;
                    const isBusy = busyTimes.includes(t);
                    const div = document.createElement('div');
                    div.className = `time-box ${isBusy ? 'busy' : ''}`;
                    div.innerText = t;
                    if(!isBusy) {
                        div.onclick = function() {
                            document.querySelectorAll('.time-box').forEach(b => b.classList.remove('selected'));
                            this.classList.add('selected');
                            bookingData.time = t;
                        };
                    }
                    container.appendChild(div);
                }
            }
        }

        function confirmAll() {
            const name = document.getElementById('clientName').value;
            if(!name || !bookingData.time) {
                alert("Ju lutem plotësoni të gjitha fushat!");
                return;
            }
            alert("Sukses!\nTermini u rezervua me sukses.\nShërbimi: " + bookingData.service + "\nBerberi: " + bookingData.barber + "\nOra: " + bookingData.time);
            closeModal();
        }
    </script>
</body>
</html>
